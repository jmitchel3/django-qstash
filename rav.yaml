description: Rav is a shortcut to run commands on your local machine.


scripts:
  install:
    - venv/bin/python3 -m pip install -e .
  update_django_constraints:
    - uv run python tests/requirements/update_django_constraints.py
  compile_test_requirements:
    - uv run python tests/requirements/compile.py
  test:
    - uv run tox run -f py312
    - uv run coverage combine
    - uv run coverage report
  sample_server:
    - cd sample_project && ../venv/bin/python manage.py runserver 8133
  sample_shell:
    - cd sample_project && ../venv/bin/python manage.py shell
  bump:
    - venv/bin/bump2version patch
  bump_and_push_release:
    - venv/bin/bump2version patch
    - git push origin main
    - git push origin main --tags
  makemigrations:
    - cd sample_project && ../venv/bin/python manage.py makemigrations
    - ../venv/bin/python manage.py migrate
  qstash_dev:
    - docker compose -f compose.dev.yaml up
